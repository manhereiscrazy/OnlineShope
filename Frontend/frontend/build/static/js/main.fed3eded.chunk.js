(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(11),r=n.n(i),c=n(68),o=n(12),l=n(13),d=n(28),s=n.n(d),u=n(10),p=n(37),j=n(32),b=n.n(j);var m=n(145),h=n(149),v=n(150),x=n(112),O=n(151),f=n(152),g=n(114),y=n(160),C=n(153),k=n(154),N=n(155),W=n(158),P=n(156),S=n(3);function E(e){var t=e.product,n=e.update,i=e.setUpdate,r=e.setBusy,c=e.getCookie,o=Object(a.useState)(!1),d=Object(l.a)(o,2),j=d[0],E=d[1];function T(){return(T=Object(p.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat("/api/product/").concat(t.id),j,{headers:{"Content-type":"application/json","X-CSRFToken":c("csrftoken")}}).then((function(e){i(!n),E(!1)})).catch((function(e){var t;console.log("###error",e,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(p.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat("/api/product/").concat(t.id),{headers:{"Content-type":"application/json","X-CSRFToken":c("csrftoken")}}).then((function(e){i(!n)})).catch((function(e){var t;console.log("###error",e,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(m.a,{raised:!0,children:[Object(S.jsx)(h.a,{component:"img",height:"230",image:t.image_uri,alt:t.name}),Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(x.a,{variant:"h5",component:"div",children:[t.name,Object(S.jsxs)("span",{style:{float:"right"},variant:"h5",component:"div",children:["$",t.price,"/-"]})]}),Object(S.jsx)(x.a,{variant:"body2",color:"inherit",children:t.description})]}),Object(S.jsx)(O.a,{className:"cardActionBtns",style:{float:"right"},children:Object(S.jsxs)(f.a,{children:[Object(S.jsx)(g.a,{onClick:function(){return E(t)},variant:"contained",color:"primary",size:"small",children:"Edit"}),Object(S.jsx)(g.a,{onClick:function(){return r({title:"Warning",text:"Are you sure want to delete the item?",action:function(){return function(e){return B.apply(this,arguments)}(t)},actionText:"Yes"})},variant:"contained",color:"secondary",size:"small",children:"Delete"})]})})]}),j&&Object(S.jsxs)(y.a,{open:Boolean(j),onClose:function(){return E(!1)},maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(C.a,{id:"alert-dialog-title",children:"Add Product"}),Object(S.jsx)(k.a,{children:Object(S.jsxs)(N.a,{container:!0,spacing:2,style:{padding:"10px"},children:[Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productName",color:"primary",label:"Name",required:!0,defaultValue:j.name,placeholder:"Enter product Name",name:"productName",type:"text",onChange:function(e){return E(Object(u.a)(Object(u.a)({},t),{},{name:e.target.value}))},autoComplete:"productName"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,placeholder:"Enter product Description",id:"productDescription",color:"primary",label:"Description",name:"productDescription",defaultValue:null===j||void 0===j?void 0:j.description,type:"text",onChange:function(e){return E(Object(u.a)(Object(u.a)({},t),{},{description:e.target.value}))},autoComplete:"productName"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productPrice",color:"primary",label:"Price",required:!0,defaultValue:null===j||void 0===j?void 0:j.price,placeholder:"Enter product Price",name:"productPrice",type:"number",onChange:function(e){return E(Object(u.a)(Object(u.a)({},t),{},{price:e.target.value}))},autoComplete:"productPrice"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productImageUrl",color:"primary",label:"Image URL",required:!0,defaultValue:null===j||void 0===j?void 0:j.image_uri,placeholder:"Enter product image url",name:"productPrice",type:"text",onChange:function(e){return E(Object(u.a)(Object(u.a)({},t),{},{image_uri:e.target.value}))},autoComplete:"url"})})]})}),Object(S.jsx)(P.a,{children:Object(S.jsxs)(f.a,{children:[Object(S.jsx)(g.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return E(!1)},children:"Close"}),Object(S.jsx)(g.a,{variant:"contained",size:"small",fullWidth:!0,color:"secondary",onClick:function(){return function(e){return T.apply(this,arguments)}(j)},children:"Save"})]})})]})]})}function T(e){var t=e.update,n=e.setUpdate,i=e.getCookie,r=Object(a.useState)(!1),c=Object(l.a)(r,2),o=c[0],d=c[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],v=m[1],x=Object(a.useState)({name:"",description:"",price:"",image_uri:""}),O=Object(l.a)(x,2),E=O[0],T=O[1];function B(){return(B=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(E),null===E||void 0===E?void 0:E.name){e.next=5;break}return v(Object(u.a)(Object(u.a)({},h),{},{name:"Enter a product name"})),e.abrupt("return");case 5:if(null===E||void 0===E?void 0:E.price){e.next=8;break}return v(Object(u.a)(Object(u.a)({},h),{},{price:"Enter a price of the product"})),e.abrupt("return");case 8:if(null===E||void 0===E?void 0:E.image_uri){e.next=11;break}return v(Object(u.a)(Object(u.a)({},h),{},{image_uri:"Please give a product image url"})),e.abrupt("return");case 11:return e.next=13,b.a.post("".concat("/api/products/"),E,{headers:{"Content-type":"application/json","X-CSRFToken":i("csrftoken")}}).then((function(e){d(!1),n(!t),console.log(e.data)})).catch((function(e){var t,n,a,i,r;console.log("###error",e,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.name)&&v(Object(u.a)(Object(u.a)({},h),{},{name:null===e||void 0===e||null===(i=e.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.name[0]}))}));case 13:console.log(a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"appbarcontainer",children:[Object(S.jsx)("div",{className:"appbarLogo",children:"Shope"}),Object(S.jsx)("div",{className:"appbaractions",children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{className:"appbarnav",children:Object(S.jsx)("a",{href:"/",children:"Home"})}),Object(S.jsx)("li",{className:"appbarnav",children:Object(S.jsx)("a",{href:"/",children:"About"})}),Object(S.jsx)("li",{className:"appbarnav",children:Object(S.jsx)("a",{onClick:function(){return d(!0)},children:"Add Product"})})]})})]}),o&&Object(S.jsxs)(y.a,{open:o,onClose:function(){return d(!1)},maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(C.a,{id:"alert-dialog-title",children:"Add Product"}),Object(S.jsx)(k.a,{children:Object(S.jsxs)(N.a,{container:!0,spacing:2,style:{padding:"10px"},children:[Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productName",color:"primary",label:"Name",error:Boolean(null===h||void 0===h?void 0:h.name),required:!0,helperText:!!(null===h||void 0===h?void 0:h.name)&&(null===h||void 0===h?void 0:h.name),placeholder:"Enter product Name",name:"productName",type:"text",onChange:function(e){T(Object(u.a)(Object(u.a)({},E),{},{name:e.target.value})),v(!1)},autoComplete:"productName"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,placeholder:"Enter product Description",id:"productDescription",color:"primary",label:"Description",name:"productDescription",type:"text",onChange:function(e){return T(Object(u.a)(Object(u.a)({},E),{},{description:e.target.value}))},autoComplete:"productName"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productPrice",color:"primary",label:"Price",required:!0,placeholder:"Enter product Price",error:Boolean(null===h||void 0===h?void 0:h.price),helperText:(null===h||void 0===h?void 0:h.price)&&(null===h||void 0===h?void 0:h.price),name:"productPrice",type:"number",onChange:function(e){T(Object(u.a)(Object(u.a)({},E),{},{price:e.target.value})),v(!1)},autoComplete:"productPrice"})}),Object(S.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(W.a,{variant:"outlined",fullWidth:!0,id:"productImageUrl",color:"primary",label:"Image URL",required:!0,error:Boolean(null===h||void 0===h?void 0:h.image_uri),helperText:(null===h||void 0===h?void 0:h.image_uri)&&(null===h||void 0===h?void 0:h.image_uri),placeholder:"Enter product image url",name:"productPrice",type:"text",onChange:function(e){T(Object(u.a)(Object(u.a)({},E),{},{image_uri:e.target.value})),v(!1)},autoComplete:"url"})})]})}),Object(S.jsx)(P.a,{children:Object(S.jsxs)(f.a,{children:[Object(S.jsx)(g.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return d(!1)},children:"Close"}),Object(S.jsx)(g.a,{disabled:Boolean(h),variant:"contained",size:"small",fullWidth:!0,color:"secondary",onClick:function(e){return B.apply(this,arguments)},children:"Save"})]})})]})]})}var B=n(66),_=n.n(B),w=n(157),D=Object(w.a)({items:{padding:"10px"}});function z(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var i=_.a.trim(n[a]);if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}function U(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],r=D(),c=Object(a.useState)(),o=Object(l.a)(c,2),d=o[0],s=o[1],u=Object(a.useState)(!0),p=Object(l.a)(u,2),j=p[0],m=p[1];return Object(a.useEffect)((function(){return i({text:Object(S.jsx)("span",{style:{fontSize:"1.7rem"},children:"Please wait..."})}),b.a.get("".concat("/api/products/"),{headers:{"Content-type":"application/json"}}).then((function(e){s(e.data),i(!1)})).catch((function(e){var t;i(!1),console.log("###error",e,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[j]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(T,{update:j,setUpdate:m,setBusy:i,getCookie:z}),Object(S.jsx)("div",{className:"mainCtx",children:Object(S.jsx)(N.a,{container:!0,children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(S.jsx)(N.a,{className:r.items,style:{minHeight:"300px !important"},item:!0,xs:12,sm:6,md:4,lg:3,children:Object(S.jsx)(E,{update:j,setUpdate:m,product:e,setBusy:i,getCookie:z})},t)}))})}),n&&Object(S.jsxs)(y.a,{open:Boolean(n),onClose:function(){return i(!1)},maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(C.a,{id:"alert-dialog-title",children:null===n||void 0===n?void 0:n.title}),Object(S.jsx)(k.a,{children:Object(S.jsx)(x.a,{variant:"h6",color:"inherit",children:null===n||void 0===n?void 0:n.text})}),Object(S.jsx)(P.a,{children:Object(S.jsxs)(f.a,{children:[Object(S.jsx)(g.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return i(!1)},children:(null===n||void 0===n?void 0:n.reactionText)?null===n||void 0===n?void 0:n.reactionText:"Close"}),(null===n||void 0===n?void 0:n.actionText)&&Object(S.jsx)(g.a,{onClick:function(){i(!1),null===n||void 0===n||n.action()},variant:"contained",size:"small",fullWidth:!0,color:"secondary",children:(null===n||void 0===n?void 0:n.actionText)?null===n||void 0===n?void 0:n.actionText:"Continue"})]})})]})]})}function q(){return Object(S.jsx)(c.a,{children:Object(S.jsx)("div",{className:"main",children:Object(S.jsxs)(o.d,{children:[Object(S.jsx)(o.b,{path:"/",exact:!0,component:U}),Object(S.jsx)(o.b,{render:function(){return Object(S.jsx)(o.a,{to:"/"})}})]})})})}n(109);r.a.render(Object(S.jsx)(q,{}),document.getElementById("clk_acs"))}},[[110,1,2]]]);
//# sourceMappingURL=main.fed3eded.chunk.js.map